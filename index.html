<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trending GitHub Repositories Journal</title>
  <meta name="description" content="A daily journal of trending GitHub repositories with automated reviews powered by GitHub Actions and DeepWiki">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #24292f;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .subtitle {
      font-size: 1.1em;
      opacity: 0.9;
      margin-bottom: 20px;
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .stat-box {
      background: rgba(255,255,255,0.2);
      padding: 15px 25px;
      border-radius: 8px;
      backdrop-filter: blur(10px);
    }

    .stat-number {
      font-size: 2em;
      font-weight: bold;
      display: block;
    }

    .stat-label {
      font-size: 0.9em;
      opacity: 0.9;
    }

    .content {
      padding: 40px;
    }

    .search-box {
      margin-bottom: 30px;
    }

    .search-box input {
      width: 100%;
      padding: 15px 20px;
      font-size: 16px;
      border: 2px solid #e1e4e8;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .search-box input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .repo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .repo-card {
      border: 1px solid #e1e4e8;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s;
      background: white;
    }

    .repo-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      border-color: #667eea;
    }

    .repo-name {
      font-size: 1.1em;
      font-weight: 600;
      color: #0969da;
      text-decoration: none;
      display: block;
      margin-bottom: 8px;
      word-break: break-all;
    }

    .repo-name:hover {
      text-decoration: underline;
    }

    .repo-links {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .repo-link {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.85em;
      text-decoration: none;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .github-link {
      background: #24292f;
      color: white;
    }

    .github-link:hover {
      background: #32383f;
    }

    .deepwiki-link {
      background: #667eea;
      color: white;
    }

    .deepwiki-link:hover {
      background: #5568d3;
    }

    .no-results {
      text-align: center;
      padding: 60px 20px;
      color: #6e7781;
    }

    footer {
      background: #f6f8fa;
      padding: 30px 40px;
      border-top: 1px solid #e1e4e8;
      text-align: center;
      color: #6e7781;
    }

    .credits {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .credit-link {
      color: #0969da;
      text-decoration: none;
      font-weight: 500;
    }

    .credit-link:hover {
      text-decoration: underline;
    }

    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.75em;
      font-weight: 600;
      background: #ddf4ff;
      color: #0969da;
      margin-left: 8px;
    }

    @media (max-width: 768px) {
      .repo-grid {
        grid-template-columns: 1fr;
      }

      h1 {
        font-size: 1.8em;
      }

      .content {
        padding: 20px;
      }
    }

    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #6e7781;
    }

    .loading::after {
      content: '...';
      animation: dots 1.5s infinite;
    }

    @keyframes dots {
      0%, 20% { content: '.'; }
      40% { content: '..'; }
      60%, 100% { content: '...'; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üìà Trending GitHub Repositories Journal</h1>
      <p class="subtitle">A daily journal of trending GitHub repositories with automated reviews</p>
      <div class="stats">
        <div class="stat-box">
          <span class="stat-number" id="total-repos">0</span>
          <span class="stat-label">Repositories Tracked</span>
        </div>
        <div class="stat-box">
          <span class="stat-number">Daily</span>
          <span class="stat-label">Automated Updates</span>
        </div>
      </div>
    </header>

    <div class="content">
      <div class="search-box">
        <input type="text" id="search" placeholder="üîç Search repositories..." aria-label="Search repositories">
      </div>

      <div id="repo-container">
        <div class="loading">Loading repositories</div>
      </div>
    </div>

    <footer>
      <p><strong>About This Project</strong></p>
      <p>This is an automated journal that tracks trending GitHub repositories daily. Each repository is reviewed automatically to help you discover interesting projects and learn about what's popular in the developer community.</p>

      <div class="credits">
        <span>Powered by:</span>
        <a href="https://github.com/features/actions" class="credit-link" target="_blank">GitHub Actions</a>
        <span>‚Ä¢</span>
        <a href="https://deepwiki.com" class="credit-link" target="_blank">DeepWiki</a>
        <span>‚Ä¢</span>
        <a href="https://github.com/trending" class="credit-link" target="_blank">GitHub Trending</a>
      </div>

      <p style="margin-top: 20px; font-size: 0.9em;">
        Built with ‚ù§Ô∏è using automated workflows ‚Ä¢ Updates daily at 1:30 AM UTC
      </p>
    </footer>
  </div>

  <script>
    let allRepos = [];

    async function loadRepos() {
      try {
        const response = await fetch('_data/trending_checked.yml');
        const text = await response.text();

        // Parse YAML (simple format: - repo/name)
        allRepos = text
          .split('\n')
          .filter(l => l.trim().startsWith('-'))
          .map(l => l.trim().slice(1).trim())
          .filter(r => r.length > 0)
          .reverse(); // Most recent first

        displayRepos(allRepos);
        updateStats();
      } catch (error) {
        document.getElementById('repo-container').innerHTML =
          '<div class="no-results">Failed to load repositories. Please try again later.</div>';
      }
    }

    function displayRepos(repos) {
      const container = document.getElementById('repo-container');

      if (repos.length === 0) {
        container.innerHTML = '<div class="no-results">No repositories found matching your search.</div>';
        return;
      }

      const grid = document.createElement('div');
      grid.className = 'repo-grid';

      repos.forEach(repo => {
        const card = document.createElement('div');
        card.className = 'repo-card';

        const [owner, name] = repo.split('/');
        const isRecent = allRepos.indexOf(repo) < 25; // Last 25 are recent

        card.innerHTML = `
          <a href="https://github.com/${repo}" class="repo-name" target="_blank" rel="noopener">
            ${repo}
            ${isRecent ? '<span class="badge">Recent</span>' : ''}
          </a>
          <div class="repo-links">
            <a href="https://github.com/${repo}" class="repo-link github-link" target="_blank" rel="noopener">
              <span>GitHub</span>
            </a>
            <a href="https://deepwiki.com/${repo}" class="repo-link deepwiki-link" target="_blank" rel="noopener">
              <span>DeepWiki</span>
            </a>
          </div>
        `;

        grid.appendChild(card);
      });

      container.innerHTML = '';
      container.appendChild(grid);
    }

    function updateStats() {
      document.getElementById('total-repos').textContent = allRepos.length;
    }

    // Search functionality
    document.getElementById('search').addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase();
      const filtered = allRepos.filter(repo =>
        repo.toLowerCase().includes(searchTerm)
      );
      displayRepos(filtered);
    });

    // Load repos on page load
    loadRepos();
  </script>
</body>
</html>
